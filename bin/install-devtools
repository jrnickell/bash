#!/usr/bin/env bash

# repositories
sudo add-apt-repository -y ppa:ansible/ansible

# add virtualbox to sources.list
echo "" | sudo tee -a /etc/apt/sources.list
echo "# virtualbox" | sudo tee -a /etc/apt/sources.list
echo "deb http://download.virtualbox.org/virtualbox/debian vivid contrib" | sudo tee -a /etc/apt/sources.list
echo "" | sudo tee -a /etc/apt/sources.list
wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -

# update
sudo apt-get update

# virtualbox
sudo apt-get install -qq virtualbox-4.3

# virtualbox extension pack
wget http://download.virtualbox.org/virtualbox/4.3.28/Oracle_VM_VirtualBox_Extension_Pack-4.3.28-100309.vbox-extpack &&
VBoxManage extpack install --replace Oracle_VM_VirtualBox_Extension_Pack-4.3.28-100309.vbox-extpack &&
rm -f Oracle_VM_VirtualBox_Extension_Pack-4.3.28-100309.vbox-extpack

# vagrant
wget https://dl.bintray.com/mitchellh/vagrant/vagrant_1.7.2_x86_64.deb &&
sudo dpkg --force-depends -i vagrant_1.7.2_x86_64.deb &&
rm -f vagrant_1.7.2_x86_64.deb

# vagrant plugins
vagrant plugin install vagrant-hostmanager
vagrant plugin install vagrant-vbguest

# ansible
sudo apt-get install -qq ansible
